<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siri Fon B√©nin</title>
    <link rel="stylesheet" href="assets/css/style.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="assets/css/responsive.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" 
          integrity="sha512-..." 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer"
          media="print" onload="this.media='all'">
    <link rel="preload" as="script" href="assets/js/app.js">
    <link rel="preload" as="script" href="assets/js/recorder.js">
</head>
<body>
    <header>
        <nav>
            <div class="logo-container">
                <h1> "SAGBO" Siri Fon B√©nin</h1>
            </div>
        </nav>
    </header>

    <main> 
        <section class="hero">
            <h2>üéôÔ∏è Participez √† la cr√©ation de "SAGBO" le premier assistant vocal en langue Fon ! üåç</h2>
            <div class="scrolling-texts" id="scrollingTexts">
                <p>üéØ C'est rapide : 12 secondes, comme un vocal WhatsApp</p>
                <p>üîí Promis, c'est safe : pas de spam, pas de fuite de donn√©es</p>
                <p>üé§ En 3 secondes chrono, enregistrez une phrase en Fon </p>
            </div>
        </section>

        <section class="recording-options">
            <div class="options-container">
                <div class="select-group">
                    <label for="ageSelect">Tranche d'√¢ge</label>
                    <select id="ageSelect">
                        <option value="">S√©lectionnez votre √¢ge</option>
                        <option value="15-20">15-20</option>
                        <option value="21-30">21-30</option>
                        <option value="31-40">31-40</option>
                        <option value="41-50">41-50</option>
                        <option value="51+">51+</option>
                    </select>
                </div>

                <div class="select-group">
                    <label for="environmentSelect">Environnement</label>
                    <select id="environmentSelect">
                        <option value="">S√©lectionnez l'environnement</option>
                        <option value="Calme">Calme</option>
                        <option value="Bruyant">Bruyant</option>
                        <option value="Tr√®s bruyant">Tr√®s bruyant</option>
                    </select>
                </div>
            </div>
        </section>

        <section class="phrases-section">
            <div class="current-phrase">
                <h3>Phrase √† enregistrer (<span id="currentPhraseNumber">1</span>/4):</h3>
                <p id="currentPhrase" class="phrase-text">Appel_Nom</p>
                <button id="playExampleBtn" class="example-btn">
                    <i class="fas fa-play"></i> √âcouter l'exemple
                </button>
                <div class="progress-bar" id="audioProgress"></div>
            </div>

            <div class="recordings-list" id="recordingsList">
                <!-- Les enregistrements seront ajout√©s ici dynamiquement -->
            </div>
        </section>

        <section class="recording-controls">
            <div class="timer" id="timer">00:00</div>
            <div class="controls-container">
                <button id="recordBtn" class="record-btn">
                    <i class="fas fa-microphone"></i>
                </button>
                <button id="stopBtn" class="control-btn" disabled>
                    <i class="fas fa-stop"></i>
                </button>
            </div>
            <div class="validation-container">
                <button id="submitBtn" class="submit-btn" disabled>
                    <i class="fas fa-check"></i> Valider et envoyer (0/4)
                </button>
            </div>
        </section>

        <section class="privacy-info">
            <div class="info-container">
                <p>‚ú® Nous ne garderons aucun enregistrement de vous √† la fin de l'entra√Ænement</p>
                <p>üîê Votre voix ne sera utilis√©e QUE pour entra√Æner le mod√®le</p>
            </div>
        </section>

        <!-- Modal de remerciement -->
        <div id="thankYouModal" class="modal">
            <div class="modal-content">
                <h2>Merci pour votre contribution ! üéâ</h2>
                <div class="modal-body">
                    <p>Vos enregistrements ont √©t√© envoy√©s avec succ√®s.</p>
                    <p>Aidez-nous √† collecter plus de donn√©es en partageant :</p>
                    <div class="share-buttons">
                        <button class="share-btn facebook" onclick="shareToSocial('facebook')">
                            <i class="fab fa-facebook"></i>
                        </button>
                        <button class="share-btn whatsapp" onclick="shareToSocial('whatsapp')">
                            <i class="fab fa-whatsapp"></i>
                        </button>
                        <button class="share-btn share" onclick="shareToSocial('other')">
                            <i class="fas fa-share-alt"></i>
                        </button>
                    </div>
                </div>
                <button class="close-btn" onclick="closeThankYouModal()">Fermer</button>
            </div>
        </div>

        <!-- Modal pour la permission du microphone -->
        <div id="micPermissionModal" class="modal">
            <div class="modal-content">
                <h2>üé§ Acc√®s au microphone</h2>
                <div class="modal-body">
                    <p>Pour enregistrer votre voix, nous avons besoin d'acc√©der √† votre microphone.</p>
                    <p>Ne vous inqui√©tez pas, l'acc√®s sera automatiquement d√©sactiv√© √† la fermeture du site.</p>
                    <div class="permission-buttons">
                        <button id="allowMicButton" class="primary-btn">
                            <i class="fas fa-microphone"></i> Autoriser le microphone
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="assets/js/recorder.js" defer></script>
    <script src="assets/js/telegram.js" defer></script>
    <script src="assets/js/app.js" defer></script>
</body>
</html>